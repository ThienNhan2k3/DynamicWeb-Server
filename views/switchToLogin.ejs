<!DOCTYPE html>
<html lang="en" >
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/css/So/style.css">

    <style>
        h3 {
            margin-top: 20px;
            color: rgb(214, 66, 66);
        }
        p {
            margin-top: 20px;
            color: rgb(23, 120, 153);
        }
        .progress-bar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: 
                radial-gradient(closest-side, white 79%, transparent 80% 100%),
                conic-gradient(rgb(23, 120, 153) 0%, rgba(38, 179, 225, 0.4) 0);   

            display: flex;
            justify-content: center;
            align-items: center;
            transition: 0.5s;
        }
        .percent-container {
            font-size: 1.5rem;
        }

    </style>

  </head>
  <body class="bg-light-subtle">
    <div class="container d-flex flex-column align-items-center mt-5">
        <div class="row justify-content-center mb-3 fw-semibold fs-3 mt-5">
            <div class="col col-12 bg-white p-5 d-flex flex-column align-items-center text-center">
                <img src="/images/switchToLoginImage.jpg" alt="Logo" style="width: 40%;" class="p-0" >
                <h3 class="fs-2">Thay đổi mật khẩu thành công</h3>
                <p class="fs-4">
                    Bạn phải đăng nhập lần nữa
                    <br>
                    Chuyển hướng tới trang Đăng nhập sau vài giây
                </p>
                <div class="progress-bar text-center">
                    <div class="percent-container">0%</div>
                    <progress value="75" min="0" max="100" style="visibility:hidden;height:0;width:0;">75%</progress>
                </div>
                
            </div>
        </div>
      </div> 

      <script>
        const progressBar = document.querySelector(".progress-bar");
        console.log(progressBar);
        let percent = 0;
        
        const switchToLoginInterval = setInterval(() => {
            console.log(percent);
            if (percent < 100) {
                percent += 1;
            } else if (percent === 100) {
                location.href = "/login";
                stopSwitchToLoginInterval();
            }
            progressBar.style.background = `
                radial-gradient(closest-side, white 79%, transparent 80% 100%),
                conic-gradient(rgb(23, 120, 153) ${percent}%, rgba(38, 179, 225, 0.4) 0)
            `;
            document.querySelector(".percent-container").textContent = `${percent}%`
        }, 17);

        function stopSwitchToLoginInterval() {
            clearInterval(switchToLoginInterval);
        }
        

      </script>
  </body>


  <script
    src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
    crossorigin="anonymous"></script>
</html>